# Pull Requestガイドライン

## PR作成時の必須項目

### タイトル
- 簡潔に変更内容を記述
- コミットメッセージのsubjectと同じ形式
- 例: `ユーザーダッシュボード画面を追加`

### 本文構成

```markdown
## 概要
この変更の目的を簡潔に説明

## 変更内容
- 具体的な変更点1
- 具体的な変更点2
- 具体的な変更点3

## テスト手順
1. 手順1
2. 手順2
3. 期待される結果

## 関連Issue
Closes #123
```

## PR作成後の必須アクション

### 1. Codexレビュー依頼（必須）

⚠️ **PR作成直後に必ず実施**

```
@codex review
```

- MCP GitHub APIの `add_issue_comment` を使用してコメント投稿
- Codexが自動的にコードレビューを実施
- レビュー結果はDiscordに自動通知

### 2. レビュー対応

- Codexの指摘事項を確認
- 必要に応じて修正をコミット・プッシュ
- 重要な指摘には返信コメントで対応内容を説明

### 3. マージ

- Codexレビューが承認されたらマージ
- マージ方法: Squash merge（推奨）

## PRの種類別テンプレート

### 新機能追加

```markdown
## 概要
[機能名]を追加しました。

## 変更内容
- 機能の実装内容
- 関連するファイルの変更
- データベーススキーマの変更（あれば）

## テスト手順
1. [環境/画面]にアクセス
2. [操作手順]
3. [期待される動作]

## スクリーンショット
（あれば添付）

## 関連Issue
Closes #XXX
```

### バグ修正

```markdown
## 概要
[バグの内容]を修正しました。

## 問題
- 発生していた問題の詳細
- 再現手順

## 原因
- 問題の根本原因

## 修正内容
- 具体的な修正内容

## テスト手順
1. 以前のバグ再現手順を実施
2. バグが解消されていることを確認

## 関連Issue
Fixes #XXX
```

### リファクタリング

```markdown
## 概要
[対象]をリファクタリングしました。

## 目的
- リファクタリングの理由
- 改善される点

## 変更内容
- 具体的な変更内容
- 動作に変更がないこと

## テスト手順
1. 既存機能が正常に動作することを確認
2. E2Eテストがすべてパス

## 関連Issue
なし
```

## チェックリスト

PR作成前に以下を確認：

- [ ] 専用ブランチで作業している
- [ ] 動作確認が完了している
- [ ] E2Eテストを実施済み
- [ ] コミットメッセージが規約に準拠
- [ ] PRテンプレートに従って記載
- [ ] 関連Issueがあればリンク
- [ ] Codexレビュー依頼を投稿予定
